{% extends "base.html" %}

{% block title %}S2{% endblock %}

{% block content %}
<link rel="stylesheet" href="/static/css/s2.css">

<div id="s2" class="biReady"></div>

<div id="overlay"></div>

{% endblock %}

{% block js %}
    <script src="/static/js/library.js"></script>
    <script src="/static/js/react-with-addons.js"></script>
    <script src="/static/js/JSXTransformer.js"></script>
    <script type="text/jsx" src="/static/js/s2.jsx"></script>
    <script type="text/jsx">
      var urlVars = getUrlVars();
      var filter  = "with" in urlVars ? urlVars["with"].replace(/_/g, " ").split("+") : null;
      if (filter && filter.length === 1 && filter[0] === "all") { filter = []; }
      
      React.render(
        <ReaderApp initialRef={humanRef("{{ ref }}")} initialFilter={filter} />,
        document.getElementById('s2')
      );
    </script>
{% endblock %}

{% block footer %}{% endblock %}
